{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/mbulelo/IVDLMS/src/screens/ApplicationForm.js\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ApplicationForm = function ApplicationForm() {\n  var _useState = useState({\n      first_name: '',\n      last_name: '',\n      phone_number: '',\n      email: '',\n      national_id: '',\n      dob: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    applicantData = _useState2[0],\n    setApplicantData = _useState2[1];\n  var submitApplication = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        if (!validateForm(applicantData)) {\n          return;\n        }\n        var response = yield fetch('http://localhost:8080/applicants', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(applicantData)\n        });\n        if (response.ok) {\n          setSuccessMessage('Application submitted successfully');\n          setPaymentRequired(true);\n          setShowInputFields(false);\n          fetchQuestion();\n        } else {\n          console.error('Failed to submit application');\n          Alert.alert('Error', 'Failed to submit application. Please try again later.');\n        }\n      } catch (error) {\n        console.error('Error submitting application:', error);\n        Alert.alert('Error', 'Network error. Please check your internet connection.');\n      }\n    });\n    return function submitApplication() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var validateForm = function validateForm(data) {\n    for (var key in data) {\n      if (!data[key]) {\n        Alert.alert('Error', 'Please fill in all required fields.');\n        return false;\n      }\n    }\n    return true;\n  };\n  var handleChange = function handleChange(field, value) {\n    setApplicantData(_objectSpread(_objectSpread({}, applicantData), {}, _defineProperty({}, field, value)));\n  };\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(Text, {\n      style: styles.title,\n      children: \"Apply for Driver's License\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, _this), _jsxDEV(View, {\n      style: styles.inputContainer,\n      children: [_jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"First Name\",\n        value: applicantData.first_name,\n        onChangeText: function onChangeText(text) {\n          return handleChange('first_name', text);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, _this), _jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"Last Name\",\n        value: applicantData.last_name,\n        onChangeText: function onChangeText(text) {\n          return handleChange('last_name', text);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, _this), _jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"Phone Number\",\n        value: applicantData.phone_number,\n        onChangeText: function onChangeText(text) {\n          return handleChange('phone_number', text);\n        },\n        keyboardType: \"phone-pad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, _this), _jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"Email\",\n        value: applicantData.email,\n        onChangeText: function onChangeText(text) {\n          return handleChange('email', text);\n        },\n        keyboardType: \"email-address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, _this), _jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"National ID\",\n        value: applicantData.national_id,\n        onChangeText: function onChangeText(text) {\n          return handleChange('national_id', text);\n        },\n        keyboardType: \"numeric\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, _this), _jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"Date Of Birth\",\n        value: applicantData.dob,\n        onChangeText: function onChangeText(text) {\n          return handleChange('dob', text);\n        },\n        keyboardType: \"numeric\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, _this), _jsxDEV(View, {\n        style: styles.buttonContainer,\n        children: _jsxDEV(Button, {\n          title: \"Submit Application\",\n          onPress: submitApplication\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, _this);\n};\nvar styles = {\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  inputContainer: {\n    width: '100%'\n  },\n  input: {\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: 10,\n    paddingHorizontal: 10,\n    width: '100%'\n  },\n  buttonContainer: {\n    marginTop: 10,\n    width: '100%'\n  }\n};\nexport default ApplicationForm;","map":{"version":3,"names":["React","useState","View","Text","Button","TextInput","Alert","jsxDEV","_jsxDEV","ApplicationForm","_useState","first_name","last_name","phone_number","email","national_id","dob","_useState2","_slicedToArray","applicantData","setApplicantData","submitApplication","_ref","_asyncToGenerator","validateForm","response","fetch","method","headers","body","JSON","stringify","ok","setSuccessMessage","setPaymentRequired","setShowInputFields","fetchQuestion","console","error","alert","apply","arguments","data","key","handleChange","field","value","_objectSpread","_defineProperty","style","styles","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","_this","inputContainer","input","placeholder","onChangeText","text","keyboardType","buttonContainer","onPress","flex","justifyContent","alignItems","padding","fontSize","fontWeight","marginBottom","width","height","borderColor","borderWidth","paddingHorizontal","marginTop"],"sources":["/home/mbulelo/IVDLMS/src/screens/ApplicationForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, Button, TextInput, Alert } from 'react-native';\n\nconst ApplicationForm = () => {\n  const [applicantData, setApplicantData] = useState({\n    first_name: '',\n    last_name: '',\n    phone_number: '',\n    email: '',\n    national_id: '',\n    dob: '',\n  });\n\n  // Function to handle submission of application\n  const submitApplication = async () => {\n    try {\n      // Check if all required fields are filled\n      if (!validateForm(applicantData)) {\n        return;\n      }\n\n      // Make a POST request to submit the application data\n      const response = await fetch('http://localhost:8080/applicants', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(applicantData),\n      });\n\n      // Check if the request was successful\n      if (response.ok) {\n        setSuccessMessage('Application submitted successfully');\n        setPaymentRequired(true);\n        setShowInputFields(false);\n        fetchQuestion(); // Fetch question when application is submitted\n      } else {\n        console.error('Failed to submit application');\n        // Handle errors, e.g., show an error message to the user\n        Alert.alert('Error', 'Failed to submit application. Please try again later.');\n      }\n    } catch (error) {\n      console.error('Error submitting application:', error);\n      // Handle network errors, e.g., show an error message to the user\n      Alert.alert('Error', 'Network error. Please check your internet connection.');\n    }\n  };\n\n  // Function to validate form fields\n  const validateForm = (data) => {\n    for (const key in data) {\n      if (!data[key]) {\n        Alert.alert('Error', 'Please fill in all required fields.');\n        return false;\n      }\n    }\n    return true;\n  };\n  // Function to handle changes in input fields\n  const handleChange = (field, value) => {\n    // Update the state with the field and its value\n    setApplicantData({ ...applicantData, [field]: value });\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Apply for Driver's License</Text>\n      <View style={styles.inputContainer}>\n        <TextInput\n          style={styles.input}\n          placeholder=\"First Name\"\n          value={applicantData.first_name}\n          onChangeText={(text) => handleChange('first_name', text)}\n        />\n        <TextInput\n          style={styles.input}\n          placeholder=\"Last Name\"\n          value={applicantData.last_name}\n          onChangeText={(text) => handleChange('last_name', text)}\n        />\n        <TextInput\n          style={styles.input}\n          placeholder=\"Phone Number\"\n          value={applicantData.phone_number}\n          onChangeText={(text) => handleChange('phone_number', text)}\n          keyboardType=\"phone-pad\"\n        />\n        <TextInput\n          style={styles.input}\n          placeholder=\"Email\"\n          value={applicantData.email}\n          onChangeText={(text) => handleChange('email', text)}\n          keyboardType=\"email-address\"\n        />\n        <TextInput\n          style={styles.input}\n          placeholder=\"National ID\"\n          value={applicantData.national_id}\n          onChangeText={(text) => handleChange('national_id', text)}\n          keyboardType=\"numeric\"\n        />\n        <TextInput\n          style={styles.input}\n          placeholder=\"Date Of Birth\"\n          value={applicantData.dob}\n          onChangeText={(text) => handleChange('dob', text)}\n          keyboardType=\"numeric\"\n        />\n        \n        <View style={styles.buttonContainer}>\n          <Button title=\"Submit Application\" onPress={submitApplication} />\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = {\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  inputContainer: {\n    width: '100%',\n  },\n  input: {\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: 10,\n    paddingHorizontal: 10,\n    width: '100%',\n  },\n  buttonContainer: {\n    marginTop: 10,\n    width: '100%',\n  },\n};\n\nexport default ApplicationForm;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}